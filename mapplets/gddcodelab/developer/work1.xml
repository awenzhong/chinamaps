<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs title="北京2008奥运场馆"
             description="显示几个北京的奥运比赛场馆"
             author="Google, Inc"
             author_email="your-email@gmail.com"
             height="150">
  <Require feature="sharedmap"/>
</ModulePrefs>
<Content type="html"><![CDATA[

<h2>北京奥运比赛场馆介绍</h2>

<script>
var data = [
  { "name" : "国家体育场（鸟巢）", "link" :
  "http://2008.sina.com.cn/venues/nst/", "description" : "田径，男子足球", "image" : "http://i0.sinaimg.cn/2008/venues/nst/U1860P461T66D2F1719DT20080427215152.jpg", "lat": 39.9944, "lng" : 116.3994},
  { "name" : "国家游泳中心（水立方）", "link" :
  "http://2008.sina.com.cn/venues/nac/", "description" : "游泳，跳水，花样游泳", "image" : "http://i1.sinaimg.cn/2008/venues/nac/U347P461T66D3F1733DT20080428211654.jpg", "lat": 39.9946, "lng" : 116.3913},
  { "name" : "北京大学体育馆", "link" : "http://2008.sina.com.cn/venues/pkg/",
  "description" : "乒乓球", "image" : "http://i1.sinaimg.cn/2008/venues/pkg/U347P461T66D28F1719DT20080427151033.jpg", "lat": 39.9916, "lng" : 116.3104},
  { "name" : "老山自行车馆", "link" : "http://2008.sina.com.cn/venues/lsv/",
  "description" : "场地自行车", "image" : "http://i0.sinaimg.cn/2008/venues/lsv/U1860P461T66D6F1719DT20080428113145.jpg", "lat": 39.9149, "lng" : 116.2063},
  { "name" : "北京射击馆", "link" : "http://2008.sina.com.cn/venues/bsh/",
  "description" : "射击", "image" : "http://i2.sinaimg.cn/2008/venues/bsh/U347P461T66D1F1719DT20080428213540.jpg", "lat": 39.9469, "lng" : 116.2060},
];

var map = new GMap2();
var bounds = new GLatLngBounds();
for (var i = 0; i < data.length; i++) {
  var d = data[i];
  var point = new GLatLng(d.lat, d.lng);
  var message = '<b>' + d.name + '</b><br>比赛项目' + d.description
    + '<br><img src="' + d.image + '"/><br><a href="' + d.link
    + '" target="_blank">更多信息</a>';
  addMarker(point, message);
  bounds.extend(point);
}
map.setCenter(bounds.getCenter(), 12);

function addMarker(point, message) {
  var marker = new GMarker(point);
  GEvent.addListener(marker, "click", function() {
    marker.openInfoWindowHtml(message);
  });
  map.addOverlay(marker);
}

</script>
]]></Content>
</Module>
