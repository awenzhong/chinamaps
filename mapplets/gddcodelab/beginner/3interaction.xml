<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs title="地图交互" height="150">
  <Require feature="sharedmap"/>
</ModulePrefs>
<Content type="html"><![CDATA[

<script>
  var map = new GMap2();
  map.setCenter(new GLatLng(39.917, 116.397), 5);

  var bounds = map.getBoundsAsync(function(bounds) {
    var southWest = bounds.getSouthWest();
    var northEast = bounds.getNorthEast();
    var lngSpan = northEast.lng() - southWest.lng();
    var latSpan = northEast.lat() - southWest.lat();

    // 在地图范围内随即添加5个点
    for (var i = 0; i < 5; i++) {
      var point = new GLatLng(southWest.lat() + latSpan * Math.random(),
        southWest.lng() + lngSpan * Math.random());
      map.addOverlay(new GMarker(point));
    }
  });
  map.getCenterAsync(function(center) {
    var marker = new GMarker(center);
    map.addOverlay(marker);
    marker.openInfoWindowHtml("这里是中心点");
  });
</script>

]]></Content>
</Module>
